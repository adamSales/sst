source('changePointSim.r')
st <- simTot(10000)
st <- fix(st)
pdf('violinPlots.pdf')
lapply(st,violin)
lapply(st,violin)
dev.off()
violin(st[[1]])
vioplot
args(vioplot)
violin(st[[1]])
library(ggplot2)
st1 <- st[[1]]
st1 <- do.call('c',as.data.frame(st[[1]]))
str(st1)
head(st1[,1])
head(st[[1]][,1])
st1 <- cbind(st1,as.factor(rep(colnames(st[[1]]),each=ncol(st[[1]]))))
head(st1)
st1 <- do.call('c',as.data.frame(st[[1]]))
st1 <- data.frame(est=st1,method=as.factor(rep(colnames(st[[1]]),each=ncol(st[[1]]))))
head(st1)
boxplot(est~method,data=st1)
all(st1$est[st1$method=='mallik']==st[[1]][,'mallik'])
dim(st[[1]])
head(st1$method)
all(st1$est[st1$method=='alphaE.0.05']==st[[1]][,'alphaE.0.05'])
cbind(st1$est[st1$method=='alphaE.0.05'],st[[1]][,'alphaE.0.05'])
head(st[[1]])
st1 <- do.call('c',as.data.frame(st[[1]]))
all(st1[1:10000]==st[[1]][,1])
all(st1[10001:20000]==st[[1]][,2])
meth <- rep(colnames(st[[1]]),each=10000)
st1 <- data.frame(est=st1,method=as.factor(rep(colnames(st[[1]]),each=nrow(st[[1]]))))
all(st1$est[st1$method=='alphaE.0.05']==st[[1]][,'alphaE.0.05'])
p <- ggplot(st1, aes(x=method, y=est)) + 

  geom_violin()
p
?geom_violin
?vioplot
p <- ggplot(st1, aes(x=method, y=est)) + geom_violin(bw=.1)
p
p <- ggplot(st1, aes(x=method, y=est)) + geom_violin(bw=1)
p
p + stat_summary(fun.y=median, geom="point", size=2, color="red")

p + geom_boxplot()
p + geom_boxplot(width=0.1)
p + geom_boxplot(width=0.1)+geom_abline(intercept=10,lty=2)
p + geom_boxplot(width=0.1)+geom_abline(yintercept=10,lty=2)
p + geom_boxplot(width=0.1)+geom_abline(h=2,lty=2)
p + geom_boxplot(width=0.1)+geom_hline(yintercept=10,lty=2)
levels(st1$method)
violin2(st[[1]])
violin2(st[[1]])
violin2(st[[1]])
violin2(st[[1]])
violin2(st[[1]])
violin2(st[[1]])
violin2(st[[1]])
pdf('violinPlots.pdf')
str(st[[1]])
names(st)
for(n in c(10,50)) for(b in c(0.05,0.1,0.2)) violin2(st[[paste0(n,'_',b)]],n,b)
dev.off()
a
n
b
violin2(st[[paste0(n,'_',b)]],n,b)
violinTot(st,c(10,50),c(0.05,0.1,0.2))
violinTot(st,c(10,50),c(0.05,0.1,0.2))
q('no')
