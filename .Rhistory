source('changePointSim.r')
install.packages('doSNP')
?makeCluster
?makeCluster
?makeCluster
class(makeData)
ls()[vapply(ls(), function(obj) class(get(obj)),'a')=='function']
ls()
ls()[vapply(ls(), function(obj) class(get(obj))[1],'a')=='function']
source('changePointSim.r')
res <- simTot(1000)
res <- simTot(1000)
stopCluster(cl)
source('changePointSim.r')
res <- simTot(1000)
source('changePointSim.r')
res <- simTot(1000)
source('changePointSim.r')
res <- simTot(1000)
source('changePointSim.r')
res <- simTot(1000)
str(res)
length(res)
names(res)
length(res[[1]])
res[[1]][1]
save(res,file='simulationResults.RData')
ores <- res
nm <- names(res)
res <- lapply(res,function(run) do.call('rbind',run))
str(res)
mse
for(n in c(10,50,100)) for(b in c(0.2,0.5,1)){
cat('n=',n,' b=',b,'\n')
apply(res[[paste0(n,'_',b)]],2,function(x) round(table(x)/1000,2))
cat('\n\n\n')
}
apply(res[[1]],2,table)
plot(table(res[[1]][,1]))
plot(table(res[[1]][,2]))
names(res)[1]
x <- makeData(10,0.2)
str(x)
plot(apply(x,2,mean))
sign(-2)
stopCluster(cl)
stopCluster(cl)
source('changePointSim.r')
cl
system.time(newRes <- parLapply(cl,1:500,function(i) simOne(10,0.2)))
system.time(newRes <- parLapply(cl,1:500,function(i) simOne(10,0.2)))
newRes
newRes <- do.call('rbind',newRes)
apply(newRes,2,table)
apply(newRes,2,mean)
apply(newRes,2,mean,na.rm=TRUE)
stopCluster(cl)
source('changePointSim.r')
st <- simTot(1000)
save(st,file='simulation1214/results.RData')
st <- lapply(st,function(x) do.call('rbind',x))
lapply(st,function(x) apply(x,2,mean))
lapply(st,function(x) apply(x,2,mean,na.rm=TRUE))
lapply(st,function(x) apply(x,2,table))
st <- simTot(100000)
st <- simTot(100000)
p1 <- runif(10^10,-1/4,3/4)
