source('changePointSim.r')
install.packages('doSNP')
?makeCluster
?makeCluster
?makeCluster
class(makeData)
ls()[vapply(ls(), function(obj) class(get(obj)),'a')=='function']
ls()
ls()[vapply(ls(), function(obj) class(get(obj))[1],'a')=='function']
source('changePointSim.r')
res <- simTot(1000)
res <- simTot(1000)
stopCluster(cl)
source('changePointSim.r')
res <- simTot(1000)
source('changePointSim.r')
res <- simTot(1000)
source('changePointSim.r')
res <- simTot(1000)
source('changePointSim.r')
res <- simTot(1000)
str(res)
length(res)
names(res)
length(res[[1]])
res[[1]][1]
save(res,file='simulationResults.RData')
ores <- res
nm <- names(res)
res <- lapply(res,function(run) do.call('rbind',run))
str(res)
mse
for(n in c(10,50,100)) for(b in c(0.2,0.5,1)){
cat('n=',n,' b=',b,'\n')
apply(res[[paste0(n,'_',b)]],2,function(x) round(table(x)/1000,2))
cat('\n\n\n')
}
apply(res[[1]],2,table)
plot(table(res[[1]][,1]))
plot(table(res[[1]][,2]))
names(res)[1]
x <- makeData(10,0.2)
str(x)
plot(apply(x,2,mean))
sign(-2)
stopCluster(cl)
stopCluster(cl)
source('changePointSim.r')
cl
system.time(newRes <- parLapply(cl,1:500,function(i) simOne(10,0.2)))
system.time(newRes <- parLapply(cl,1:500,function(i) simOne(10,0.2)))
newRes
newRes <- do.call('rbind',newRes)
apply(newRes,2,table)
apply(newRes,2,mean)
apply(newRes,2,mean,na.rm=TRUE)
stopCluster(cl)
source('changePointSim.r')
st <- simTot(1000)
save(st,file='simulation1214/results.RData')
st <- lapply(st,function(x) do.call('rbind',x))
lapply(st,function(x) apply(x,2,mean))
lapply(st,function(x) apply(x,2,mean,na.rm=TRUE))
lapply(st,function(x) apply(x,2,table))
st <- simTot(100000)
st <- simTot(100000)
p1 <- runif(10^10,-1/4,3/4)
library(foreign)
dat <- read.dta('data/AEJApp2008-0202_data/data_for_analysis.dta')
dat2 <- read.csv('data/LindoDat.csv')
dim(dat)
dim(dat2)
names(dat2)
names(dat)
source('src/lso.r')
source('src/lso.r')
psT
psE
windowsT
source('src/lso.r')
windowsT
bws[windowsT]
bws[unique(windowsT)]
paste(1:3)
vapply(unique(windowsT),function(bw)
    do.call('paste', c(as.list(names(windowsT)[windowsT==bws[dstar]]),sep=',')),'a')
legend=vapply(unique(windowsT),function(bw)
    do.call('paste', c(as.list(names(windowsT)[windowsT==bw]),sep=',')),'a')
legend
bw
unique(windowsT)
bws[unique(windowsT)]
plot(1:10)
abline(v=c(1,2,NA))
bws[0]
bws[0.5]
windows$
windowsE
round(psT[1])
round(psT[1],3)
round(psE[1],3)
psT1
psE1
windows$1
windowsT
windowsT1
windowsT
windowsE1
windowsT1
cbind(windowsT1,windowsE1)
sum(ap$r==bws[47])
sum(ap$r==-bws[47])
round(psE1,3)
dhatM2(psE1)
dhatM2(psE1[-51])
library(knitr)
knit('sst.Rnw')
knit('sst.Rnw')
psE1
knit('sst.Rnw')
knit('sst.Rnw')
bws[windowsT1['$\\dhat^{0.5,0}_M$']]
bws[windowsT1['\$\\dhat^{0.5,0}_M$']]
bws[windowsT1['\\$\\dhat^{0.5,0}_M$']]
bws[windowsT1['$\\dhat^{0.5,0}_M$']]
"
bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['\$\\dhat^{0.5,0}_M$']]
Error: '\$' is an unrecognized escape in character string starting "'\$"
R> bws[windowsT1['\\$\\dhat^{0.5,0}_M$']]
[1] NA
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> 
bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['\$\\dhat^{0.5,0}_M$']]
Error: '\$' is an unrecognized escape in character string starting "'\$"
R> bws[windowsT1['\\$\\dhat^{0.5,0}_M$']]
[1] NA
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['\$\\dhat^{0.5,0}_M$']]
Error: '\$' is an unrecognized escape in character string starting "'\$"
R> bws[windowsT1['\\$\\dhat^{0.5,0}_M$']]
[1] NA
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['\$\\dhat^{0.5,0}_M$']]
Error: '\$' is an unrecognized escape in character string starting "'\$"
R> bws[windowsT1['\\$\\dhat^{0.5,0}_M$']]
[1] NA
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> bws[windowsT1['\$\\dhat^{0.5,0}_M$']]
Error: '\$' is an unrecognized escape in character string starting "'\$"
R> bws[windowsT1['\\$\\dhat^{0.5,0}_M$']]
[1] NA
R> bws[windowsT1['$\\dhat^{0.5,0}_M$']]
[1] 0.155
R> 
"
"
"
"
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
names(windowsT1)
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
knit('sst.Rnw')
